"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const api = require("@aws-cdk/cx-api");
const inspector_1 = require("./inspector");
const synth_utils_1 = require("./synth-utils");
function expect(stack, skipValidation = false) {
    // if this is already a synthesized stack, then just inspect it.
    const artifact = stack instanceof api.CloudFormationStackArtifact ? stack : synth_utils_1.SynthUtils.synthesize(stack, { skipValidation });
    return new inspector_1.StackInspector(artifact);
}
exports.expect = expect;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXhwZWN0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiZXhwZWN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQ0EsdUNBQXdDO0FBQ3hDLDJDQUE2QztBQUM3QywrQ0FBMkM7QUFFM0MsU0FBZ0IsTUFBTSxDQUFDLEtBQWtELEVBQUUsY0FBYyxHQUFHLEtBQUs7SUFDL0YsZ0VBQWdFO0lBQ2hFLE1BQU0sUUFBUSxHQUFHLEtBQUssWUFBWSxHQUFHLENBQUMsMkJBQTJCLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsd0JBQVUsQ0FBQyxVQUFVLENBQUMsS0FBSyxFQUFFLEVBQUUsY0FBYyxFQUFFLENBQUMsQ0FBQztJQUM3SCxPQUFPLElBQUksMEJBQWMsQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUN0QyxDQUFDO0FBSkQsd0JBSUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY2RrID0gcmVxdWlyZSgnQGF3cy1jZGsvY29yZScpO1xuaW1wb3J0IGFwaSA9IHJlcXVpcmUoJ0Bhd3MtY2RrL2N4LWFwaScpO1xuaW1wb3J0IHsgU3RhY2tJbnNwZWN0b3IgfSBmcm9tICcuL2luc3BlY3Rvcic7XG5pbXBvcnQgeyBTeW50aFV0aWxzIH0gZnJvbSAnLi9zeW50aC11dGlscyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBleHBlY3Qoc3RhY2s6IGFwaS5DbG91ZEZvcm1hdGlvblN0YWNrQXJ0aWZhY3QgfCBjZGsuU3RhY2ssIHNraXBWYWxpZGF0aW9uID0gZmFsc2UpOiBTdGFja0luc3BlY3RvciB7XG4gIC8vIGlmIHRoaXMgaXMgYWxyZWFkeSBhIHN5bnRoZXNpemVkIHN0YWNrLCB0aGVuIGp1c3QgaW5zcGVjdCBpdC5cbiAgY29uc3QgYXJ0aWZhY3QgPSBzdGFjayBpbnN0YW5jZW9mIGFwaS5DbG91ZEZvcm1hdGlvblN0YWNrQXJ0aWZhY3QgPyBzdGFjayA6IFN5bnRoVXRpbHMuc3ludGhlc2l6ZShzdGFjaywgeyBza2lwVmFsaWRhdGlvbiB9KTtcbiAgcmV0dXJuIG5ldyBTdGFja0luc3BlY3RvcihhcnRpZmFjdCk7XG59XG4iXX0=